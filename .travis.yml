# Copyright (c) 2018 OpenJAX
#
# Permission is hereby granted, free of charge, to any person obtaining a copy
# of this software and associated documentation files (the "Software"), to deal
# in the Software without restriction, including without limitation the rights
# to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
# copies of the Software, and to permit persons to whom the Software is
# furnished to do so, subject to the following conditions:
#
# The above copyright notice and this permission notice shall be included in
# all copies or substantial portions of the Software.
#
# You should have received a copy of The MIT License (MIT) along with this
# program. If not, see <http://opensource.org/licenses/MIT/>.

language: java
jdk:
- oraclejdk8
- oraclejdk11
install:
- cp settings.xml $HOME/.m2/settings.xml
script:
- 'if [ "$TRAVIS_JDK_VERSION" = "oraclejdk8" ] &&
      [ "$TRAVIS_BRANCH" = "master" ] &&
      [ "$TRAVIS_PULL_REQUEST" = "false" ]; then
    sh -c "$SIGNING_KEY" | $GPG_EXECUTABLE --fast-import &> /dev/null &&
    mvn -Dmaven.rtest.skip clean deploy -P deploy
  else
    mvn -Dmaven.rtest.skip clean install
  fi'
cache:
  directories:
    - ~/.m2/repository
env:
  global:
  - secure: inelvmNxNtvmqintuOpnEOWuVl+qkiJTiW/CUHgVP0clCx6GnfKlykxYIuh1pMdfq2tQf+SWZnIHt2f69TM98Pj2xeyc9UnLpWO7LPcye/fZ1j9ZVNHZI7UnKG5PgqCQZaHJH+f7kvCL6iuzqLrTfnm2DPAF/d94Xrls2t1XnPqHOnk3BJ1dZh/byh/uViCXCspkRLvhwZfDIqXpUy1lR3sM75tRyh7XdaqgqI60h66dL0J7Dv2kLnZyXDMaA9l6h99ynnHumALZY+ISfO/MzM9DEZabf5/fMgGo9gGPtEOmoIjo1h+8OThJLP+lU7DPPxjY+nV5C9KpVVbarCYcLAE1z5owsVHnZ372Of2FS4+PEBrQk74tFNPEvno0J5UillaCWxHuA9+3XeyBzWw1rzDc99jzZDcUIyNj/Yoa8utFtf6ztQZ3TEUQWbzvmPdS5B0qieGS+fV8SOHv3tjbU35qs63yfUZdatptRSIFfZk7vBUdOi5b0ekeQ9vRqcogdA/e9cJTdWTbF/EzSTrMYqn1OAaxZkBfq3/jLyzQLbktDbzkxK18AMeO3gWBsS5TwbdHeztUdlS6LkLJlUrz2MYoLK9WYX3E7qAkUwToBqh+NVLOZYmz5wf6hIPUYOyMDvgafhgzjDeofoXAfCVpgH/RZHl+itghqGeVVJiuA6o=
  - secure: vet7z82ZPVPyoHmT1cqUC3APJQyDUFBkPCYBq3ywL1CVTrhWBw/pmcnY1vu5LgppLTHo2fcDaN/Pl+BndqrZ4qgPMCALRYYHayqZ7736Fdijlw+ieuIFVoaSQP1wt1LkorL7qpnRZm9nPUzeHCf7GJTqi9bl1Fq0E5sxAp5EG4cUNkQHOBKsRlMP9UqIhgPKTa93NrpM8YQnod3oXd97dXnKE3gnPnUi7D8SNAHEo/BCSmxARATZ8XBPOeyEn4b0YOdX/Ef8Fd3ySfN/ZsnKnoBlcs1i0Ko2BTCg/ZS+9FyYmnkgpLr6O+YiU64VJa5O4v4y1w7l+vgx14jBloVqqQoguufVFp4aQWlT/i0MaM6a52oUdQgntIaJlJnIrnvKty0LC1axjaYm0dPYguqD3UjyKUwTQxov/CkC1lNHOiET8U1xY2KIi8vd7H7DDHS0phnOUam740LM4lUwDj0fH3w4/mdud6FOYXSIY9tC6me/fG3/wX7BrtprqQ9iPLGeXo+rDvG9jCFuAXCcGXHq1OTu+RMQce/JVGj/5+XhMzUFLFyP2rtOTPYLgCWxOi9qKQqG5hVQDyQeFpGc2+HNy93mdL7gXsT8xePwcg1mFCjCjRaGFNX2UirjR6JRVAaqslPQXpeoZibw30THN7gBhKIUaHxsRKWJgbx2MB0ECeg=
  - secure: Ith04nqDQCB5IGu2GFksyw55tR+bt8u6XDhaX02uWruQIPWgqhnUghi/OZTESrGBEMm/lAP2/y4IEoQaH68blD24+8iKzSjtmpScPw0zF4GhvvyvL5OY7bNtskUvVlMVKvDm64r2dOMNeOfeJvgwxgrP6ZCkO1tFVHnr0r8qg65jFFguufB0T3s9COZ2jPI0Umcb5xBWWkuHh8xtzc1hKXdv3GvwXpsf38qXBi02kPujj18MT9tMEmB1rBA6htrn1Mz4QQrEQH69htD2x5ixVCI5hzFs+Kq40thUZ3UDcUK2gA9HPX6IvH3M0XUTAlwj13bYqsSTF++dHNBZ4QKNHyLB+KTU6rATuP/AW0j/kzyo44xf3qQI32+lhXuK8HG11aZ7e8m+5TjlsQU1jr4YhZu8zQpOnR8/E+yW0DzYW2QwQUZt2mk0lAgycbzFjuw6EPcoJXjAiJ2GK9GbO20/kGKpA/vf0nPOS+mDfq2IV2QZVxRZ+x6Rzp56gPx+qvb72kQ9mo53ub4jjrw2ilFELWKwFLZWR97k0oqPgikRYEEUooOImHgXHpj7F8CzbTTJYOTD+m4w46lM1gi4At6lT47O2W9GGeW1sbt7rkm23w4POb/Z6P+ixtGG2RaxaCh3UqCpkkVHe3/ymAzCwyFvtPfB8DxfNndOYPHLH34/vgM=
  - secure: X367sXHADv+9bitVz7qDo2bXb9Kr+U2aoQk8sL7eM0z7+mR5VhBLyJRyv7gReLVW3Df6cMGKjnvMvdC9n0+h9xKw3r5acq18YNcB5EIaiFvpc5PXKS6V+rM7usZKRSazst3k3i/lkJ8H5HAhGgYwIsZ8cf+x2U0u3eeBa96Uddz/r1wKsxcBHplbj2QJq8Fra/8/cKY1yPd7LECaP7inVnb1+BlD9hjaku1giaoYEh0PpJyyChj05MWDzRClZchT1Hi/MS6ux28v1OCq9jfhSzxxXc9z4ejuVgE+rPjI6nrmlJF/me6SZoJ4FOmhlwNOMPI7MoL1H13QFI3xPPXBeNDEQ31T36GuN0J8/S4ep8J1QBvxGmNJmjk2qB8H74eKq566j4RGhnM77/9sIk3aeLWKyGjIG3bpGjXbB4tsBKy4ZTYVH/QxKT5A0yMYULYCrkMLRQbLvdtu8OkLhPk994EU7xgpiF9hGIdBqWZUioAWOimE1yqHN6BBoJw1Flq8WnTYwEuAFMm+m9Q85CTcGXfE9osL42bNGUbmjkEbxCOwFSKW5qvHtWuyNCxNl6hmysTMzUkDjypMUxElN5n7WOmcActKOq7oHVlchZpawfl0ypdJdc7ewT6lRr+u3qjU750EZ1dLl2tI9qlV6lLfi81uIM6kQQRnpEN6/JmsE9Y=
  - secure: ggmqNGqANY5QKtBlJXlUW+/gi3ABE+l3zaj4n4eUeEUnJLSoWTiWwKcwcj/EIiDok0UQgtL9/MpzUJjinMbq5Lnr7+s5SO8cvP/ZfkSrUxb7ML8lIS/9j4qNCdLrtOC59QAkWs0cWtaV27aARVbY+mhAt2bGieT0/aPAp3SiRjavWJzlEKRs5KkleywQOIczWZRLKbs8EFLQl05bORPQjK6cMfvBoBOXGPxM6wE6TJw7wLIIPKkrvEQ2IXeDbh+1VV4D7gYW9yjckqJvkXWKl900HrLqtKoMjXloMDT5Cp1Xj4nqFlthUTLXXaXQ1n6n7RwWyosURcp3PG4NNSkiIgk+tNu5E/xHUvhgptrXAkiUNZ/JPtsLFR4CcgbfiypPc18hnobMZ9gR+C24LV/gU+/are3kWJZ1QgBsIr2NuVkb8eht0eR4v2ZhKmGidOEdZryLIZeY2TBBtTBrwqXsaIN/Vg1Fqfc0LM13z42NSmscQgCrSb8EqJN/Ct2Z/En4Dt55R8k/I9esVn6n5e2uf89Ycii1RSrWJSzdkkNfmxiATAEj+IzBQ16qjSXO1Iuxo8QCG+YdcaLYm0/+wULNTxK2KBTTMUBD84TU39b+aTgqFYXJtUYXN1uYaO2/IY11Yk2PXo9svHgxj7WzMCTT6MLmhCfPuFjVqSuvUdVhBQo=
  - secure: l9PBzK+ZHThGHvRUDMs9k0Ovdkne1HtvP0GQEKHSWGDgbslRYqT/iSihg36xgItvfhgPVpvorfwqC6W2eaOp8AI/UWe6FRZkLr6Yb1ui05GtVxfrAezr19pDQd1UpjrvNPBPOOioawLjK8ue8+UUI6U7+l9+id/cFv2SUQPEuP7GSs/yjxYL8ElWYsxvOFgudE7TP82uvG3dUV2wHREJfBRP2YUvVpT6ryAqtaVgUWTqjRHZkg6a0K7oDv7T61p8Gx2jRaQrFraObHGSAe5Wfwt93IldO8dhYCHkGPPDIwZ/B5dVPgyxjLB65+ncnfmNROZX2KAys/hMvoHS6zg5FTQHNgGO6fdsTLETRmfactfa1MJ0lDal0nvmbQ9+GkXUViDyrrSXrEvmYDdbv0Y7ju3CU8iFZHaGY0Fso+/7nrGrxcXhR3dHxB8WEJvH573olKKSCA7qzgjLuk9fkLWas4oDFm59OzcALeUZAGGptEuay5a+kQT6d2W+AZTo1Y0TMoBgiBs/GJg0zDqTnkjsUWISJbXXnZFdQtSlsEYkLP4t2cmgeQtwNICnniGRvrYIM6Y5jgveMpLD96YEPVP9fWe2rUWTPBbkVN4yi4B1pyhMPeHyWd36PeTiI+QfMYYsSrqsaICbfQBof77b7TqX7ee83DqRSpcAWQXmo03NG9U=
